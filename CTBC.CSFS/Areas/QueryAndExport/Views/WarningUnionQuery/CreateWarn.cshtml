@model CTBC.CSFS.Models.WarningUnionQuery

@{
    ViewBag.Title = Lang.csfs_create;
    Layout = "~/Views/Shared/_Colorbox_Layout.cshtml";
}

<div class="margin">
    <div class="box box-primary">
        <div class="box-header">
            <i class="glyphicon glyphicon-search"></i>
            <h3 class="box-title">@Lang.csfs_warn_add</h3>
        </div>
        <!-- form start -->
        @using (Html.BeginForm("CreateWarn", "WarningUnionQuery", new { area = "QueryAndExport" }, FormMethod.Post, new { id = "frmCreate", @class = "form-horizontal" }))
        {
            <div class="box-body ">
                <table class="table-noborder col-md-16">
                    <tbody>
                        <tr>
                            <td class="col-md-2 text-right " style="white-space: nowrap;padding-right: 10px;padding-left: 10px;">類別</td>
                            <td class="col-md-4">
                                @Html.DropDownListFor(m => m.C1003_BUSTYPE, (IEnumerable<SelectListItem>)ViewBag.KindList, new { @id = "ddlKind" })
                            </td>
                            <td class="col-md-3 text-right"></td>
                            <td class="col-md-3">
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-2 text-right" style="white-space: nowrap;padding-right: 10px;padding-left: 10px;">案發時間</td>
                            <td class="col-md-4">
                                @Html.TextBoxFor(m => m.COL_EVENTD, new { data_datepicker = "true", @id = "txtCOL_EVENTD", @style = "width:50%" })
                                @Html.TextBoxFor(m => m.COL_EVENTT, new { @id = "txtEVENTT", @style = "width:20%", maxlength = 5, onblur = "formatTime(this);" })
                            </td>
                            <td class="col-md-3 text-right">案發地點</td>
                            <td class="col-md-3">
                                @Html.TextBoxFor(m => m.COL_EVENTP, new { @id = "COL_EVENTP", @MaxLength = "30" })
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-2 text-right" style="white-space: nowrap;padding-right: 10px;padding-left: 10px;">@Lang.csfs_165warn</td>
                            <td class="col-md-4">
                                @Html.TextBoxFor(m => m.COL_165CASE, new { @id = "txtCOL_165CASE", @MaxLength = "20" })
                            </td>
                            <td class="col-md-3 text-right">被害人</td>
                            <td class="col-md-3">
                                @Html.TextBoxFor(m => m.COL_VICTIM, new { @id = "txtCOL_VICTIM", @MaxLength = "255" })
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-2 text-right" style="white-space: nowrap;padding-right: 10px;padding-left: 10px;">身分證字號</td>
                            <td class="col-md-3">
                                @Html.TextBoxFor(m => m.COL_PID, new { @id = "txtCOL_PID", @MaxLength = "20" })
                            </td>
                            <td class="col-md-3 text-right">名稱</td>
                            <td class="col-md-3">
                                @Html.TextBoxFor(m => m.COL_Name, new { @id = "txtCOL_Name", @MaxLength = "20" })
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-3 text-right">@Lang.csfs_warn_source</td>
                            <td class="col-md-3">
                                @Html.DropDownListFor(m => m.COL_SOURCE, (IEnumerable<SelectListItem>)ViewBag.NotificationSourceList, new { @id = "ddlNotificationSource" })
                            </td>
                            <td class="col-md-2 text-right" style="white-space: nowrap;padding-right: 10px;padding-left: 10px;">鍵檔日期</td>
                            <td class="col-md-4">
                                @Html.TextBoxFor(m => m.CreatedDate, new { data_datepicker = "true", @id = "txtCreatedDate" })
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-2 text-right" style="white-space: nowrap;padding-right: 10px;padding-left: 10px;">聯防_止扣/圈存金額</td>
                            <td class="col-md-4">
                                @Html.TextBoxFor(m => m.COL_CSIBLOCKAMT2, new { @id = "txtCOL_CSIBLOCKAMT2", @MaxLength = "20" })
                            </td>
                            <td class="col-md-3 text-right">CSI設定日期</td>
                            <td class="col-md-3">
                                @Html.TextBoxFor(m => m.COL_CSIBLOCKDATE2, new { data_datepicker = "true", @style = "width:50%", @id = "txtCSIBLOCKDATE2" })
                                @Html.TextBoxFor(m => m.COL_CSIBLOCKTIME2, new { @style = "width:20%", maxlength = 5, onblur = "formatTime(this);", @id = "txtCOL_CSIBLOCKTIME2" })
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-2 text-right" style="white-space: nowrap;padding-right: 10px;padding-left: 10px;">聯防_帳號類型</td>
                            <td class="col-md-4">
                                @Html.DropDownListFor(m => m.COL_CDM_C1003ACCTYPE2, (IEnumerable<SelectListItem>)ViewBag.NotificationUnitList, new { @id = "ddlNotificationUnit" })
                            </td>
                            <td class="col-md-3 text-right">聯防_通報帳號</td>
                            <td class="col-md-3">
                                @Html.TextBoxFor(m => m.COL_ACCOUNT2, new { @id = "txtCOL_ACCOUNT2", @MaxLength = "10" })
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-2 text-right" style="white-space: nowrap;padding-right: 10px;padding-left: 10px;">幣別</td>
                            <td class="col-md-4">
                                @Html.TextBoxFor(m => m.COL_CCY2, new { @id = "txtCOL_CCY2", @MaxLength = "20" })
                            </td>
                            <td class="col-md-3 text-right">@Lang.csfs_warn_police</td>
                            <td class="col-md-3">
                                @Html.TextBoxFor(m => m.COL_POLICE, new { @id = "txtCOL_POLICE", @MaxLength = "60" })
                                @if (Model.COL_2NDNOTICE == "1")
                                {
                                    <input type="checkbox" class="PayIsOrNo" enable="readonly" checked>
                                }
                                else
                                {
                                    <input type="checkbox" class="PayIsOrNo" enable="readonly">
                                }
                                二層
                            </td>
                        </tr>
                        <tr>
                            <td class="col-md-2 text-right" style="white-space: nowrap;padding-right: 10px;padding-left: 10px;">聯徵案號</td>
                            <td class="col-md-4">
                                @Html.TextBoxFor(m => m.CASE_NO, new { @id = "txtCASE_NO", @MaxLength = "20" })
                            </td>
                            <td class="col-md-3 text-right">狀態</td>
                            <td class="col-md-3">
                                @Html.TextBoxFor(m => m.Status, new { @id = "txtStatus", @MaxLength = "20" })
                            </td>
                        </tr>
                        @Html.HiddenFor(m => m.DocNo, new { @id = "txtDocNo" })
                        @Html.HiddenFor(m => m.CaseId, new { @id = "txtCaseId" })
                        @Html.HiddenFor(m => m.Status, new { @id = "txtStatus" })
                        @Html.HiddenFor(m => m.COL_CCY2, new { @id = "txtCOL_CCY2" })
                        @Html.HiddenFor(m => m.COL_CSIBLOCKDATE2, new { @id = "txtCOL_CSIBLOCKDATE2" })
                        @Html.HiddenFor(m => m.COL_CSIBLOCKTIME2, new { @id = "txtCOL_CSIBLOCKTIME2" })
                        @Html.HiddenFor(m => m.COL_CSIBLOCKAMT2, new { @id = "txtCOL_CSIBLOCKAMT2" })
                    </tbody>
                        </table>
                    </div>
                    <div class="box-footer text-center">
                        <button id="btnSaveWarn" type="button" class="btn btn-primary btn-xs">@Lang.csfs_confirm</button>
                        <button id="btnCancelOriginal" type="button" class="btn btn-primary btn-xs">沖正</button>
                        <button id="btnCancel" type="reset" class="btn btn-default btn-xs">@Lang.csfs_cancel</button>
                        <button id="btnSetting" type="button" class="btn btn-primary btn-xs">設定</button>
                        @if (Model.Status == "D01")
                        {
                            <button id="btnChenHe" type="button" class="btn btn-primary btn-xs" disabled>呈核</button>
                        }
                        else
                        {
                            <button id="btnChenHe" type="button" class="btn btn-primary btn-xs">呈核</button>
                        }
                    </div>
                }
            </div>
        </div>

        @Html.Hidden("NowPage", "CreateWarn")
        @Html.Hidden("CreateSuccessMsg", Lang.csfs_add_ok)
        @Html.Hidden("CreateFailMsg", Lang.csfs_add_fail)

        @Html.Hidden("PlzCorrectFormat", Lang.csfs_enter_correct_format)
        @Html.Hidden("PlzInput", Lang.csfs_enter_parm0)
        @Html.Hidden("NametxtHappenDateTime", Lang.csfs_warn_date)
        @Html.Hidden("NametxtNo_165", Lang.csfs_165warn)
        @Html.Hidden("NametxtNo_e", Lang.csfs_e_warn)
        @Html.Hidden("NametxtForCDate", Lang.csfs_warn_dates)
        @Html.Hidden("NameEtabsDatetime", Lang.csfs_warn_setdate)
        @Html.Hidden("NametxtNotificationName", Lang.csfs_warn_people)
        @Html.Hidden("NameEtabsDatetime", Lang.csfs_warn_setdate)
        @Html.Hidden("SettingUrl", Url.Action("GetOriginalData", "CaseWarning", new { area = "KeyInput" }))
        @Html.Hidden("CancelOriginalUrl", Url.Action("CancelOriginalData", "CaseWarning", new { area = "KeyInput" }))
        @Html.Hidden("ChenHeUrl", Url.Action("ChenHe", "CaseWarning", new { area = "KeyInput" }))
        @section scripts{
            @Scripts.Render("~/Scripts/KeyInput/CaseWarning.js")
        }
